{
  "version": 3,
  "sources": ["css-bundle-plugin-ns:@remix-run/css-bundle", "../../app/root.tsx"],
  "sourcesContent": ["export const cssBundleHref = undefined;", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/root.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/root.tsx\");\n}\n// REMIX HMR END\n\nimport { parseWithZod } from '@conform-to/zod';\nimport { invariantResponse } from '@epic-web/invariant';\nimport { cssBundleHref } from '@remix-run/css-bundle';\nimport { json } from '@remix-run/node';\nimport { Links, LiveReload, Meta, Outlet, Scripts, ScrollRestoration, useLoaderData } from '@remix-run/react';\nimport { withSentry } from '@sentry/remix';\nimport { AuthenticityTokenProvider } from 'remix-utils/csrf/react';\nimport { HoneypotProvider } from 'remix-utils/honeypot/react';\nimport { href as iconsHref } from '~/app/shared/ui/Icons/Icon.tsx';\nimport { csrf, getEnv, honeypot, setTheme, getTheme, prisma, getToast, getUserId, makeTimings, time, logout, getConfetti } from './core/server/index.ts';\nimport fonts from './core/styles/fonts.css';\nimport twStyles from './core/styles/twStyles.css';\nimport { ClientHintCheck, getHints, useNonce } from './core/utils/index.ts';\nimport { useTheme } from './shared/lib/hooks/index.ts';\nimport { combineHeaders, getDomainUrl } from './shared/lib/utils/index.ts';\nimport { ThemeFormSchema } from './shared/schemas/index.ts';\nimport { GeneralErrorBoundary } from './shared/ui/index.ts';\nexport const links = () => [\n// Preload svg sprite as a resource to avoid render blocking\n{\n  rel: 'preload',\n  href: iconsHref,\n  as: 'image'\n},\n// Preload CSS as a resource to avoid render blocking\n{\n  rel: 'preload',\n  href: twStyles,\n  as: 'style'\n}, {\n  rel: 'preload',\n  href: fonts,\n  as: 'style'\n}, cssBundleHref ? {\n  rel: 'preload',\n  href: cssBundleHref,\n  as: 'style'\n} : null, {\n  rel: 'icon',\n  type: 'image/svg+xml',\n  href: 'favicons/favicon_bl.svg'\n}, {\n  rel: 'stylesheet',\n  href: twStyles\n}, {\n  rel: 'stylesheet',\n  href: fonts\n}, cssBundleHref ? {\n  rel: 'stylesheet',\n  href: cssBundleHref\n} : null].filter(Boolean);\nexport default _c = withSentry(AppWithProviders);\nfunction AppWithProviders() {\n  _s();\n  const {\n    honeyProps,\n    csrfToken\n  } = useLoaderData();\n  return <AuthenticityTokenProvider token={csrfToken}>\n\t\t\t<HoneypotProvider {...honeyProps}>\n\t\t\t\t<App />\n\t\t\t</HoneypotProvider>\n\t\t</AuthenticityTokenProvider>;\n}\n_s(AppWithProviders, \"ARPiMJKWJp5QFBg8fUrEz1wvOV8=\", false, function () {\n  return [useLoaderData];\n});\n_c2 = AppWithProviders;\nfunction App() {\n  _s2();\n  const {\n    ENV\n  } = useLoaderData();\n  const theme = useTheme();\n  const nonce = useNonce();\n  return <Document nonce={nonce} theme={theme}>\n\t\t\t<Outlet />\n\n\t\t\t<script nonce={nonce} dangerouslySetInnerHTML={{\n      __html: `window.ENV = ${JSON.stringify(ENV)}`\n    }} />\n\n\t\t</Document>;\n}\n_s2(App, \"Gww09Jh8C1CYiO0R9KlLMUgEL8k=\", false, function () {\n  return [useLoaderData, useTheme, useNonce];\n});\n_c3 = App;\nfunction Document({\n  children,\n  nonce,\n  theme\n}) {\n  return <html className={`${theme}`} lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<ClientHintCheck nonce={nonce} />\n\t\t\t\t<Meta />\n\t\t\t\t<Links />\n\n\t\t\t\t<meta charSet=\"utf-8\" />\n\t\t\t\t<meta name=\"description\" content=\"Your favourite geek storage\" />\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n\t\t\t</head>\n\t\t\t<body className=\"flex min-h-screen flex-col items-center bg-background text-foreground\">\n\t\t\t\t{children}\n\n\t\t\t\t<ScrollRestoration nonce={nonce} />\n\t\t\t\t<Scripts nonce={nonce} />\n\t\t\t\t<LiveReload nonce={nonce} />\n\t\t\t</body>\n\t\t</html>;\n}\n_c4 = Document;\nexport async function action({\n  request\n}) {\n  const formData = await request.formData();\n  const submission = parseWithZod(formData, {\n    schema: ThemeFormSchema\n  });\n  invariantResponse(submission.status === 'success', 'Invalid theme received');\n  const {\n    theme\n  } = submission.value;\n  const responseInit = {\n    headers: {\n      'set-cookie': setTheme(theme)\n    }\n  };\n  return json({\n    result: submission.reply()\n  }, responseInit);\n}\nexport const loader = async ({\n  request\n}) => {\n  const timings = makeTimings('root loader');\n  const userId = await time(() => getUserId(request), {\n    timings,\n    type: 'getUserId',\n    desc: 'getUserId in root'\n  });\n  const user = userId ? await time(() => prisma.user.findUniqueOrThrow({\n    select: {\n      id: true,\n      name: true,\n      username: true,\n      email: true,\n      image: {\n        select: {\n          id: true\n        }\n      },\n      roles: {\n        select: {\n          name: true,\n          permissions: {\n            select: {\n              entity: true,\n              action: true,\n              access: true\n            }\n          }\n        }\n      }\n    },\n    where: {\n      id: userId\n    }\n  }), {\n    timings,\n    type: 'find user',\n    desc: 'find user in root'\n  }) : null;\n  if (userId && !user) {\n    console.info('something weird happened');\n    // something weird happened... The user is authenticated but we can't find\n    // them in the database. Maybe they were deleted? Let's log them out.\n    await logout({\n      request,\n      redirectTo: '/'\n    });\n  }\n  const {\n    toast,\n    headers: toastHeaders\n  } = await getToast(request);\n  const {\n    confettiId,\n    headers: confettiHeaders\n  } = getConfetti(request);\n  const honeyProps = honeypot.getInputProps();\n  const [csrfToken, csrfCookieHeader] = await csrf.commitToken(request);\n  return json({\n    user,\n    requestInfo: {\n      hints: getHints(request),\n      origin: getDomainUrl(request),\n      path: new URL(request.url).pathname,\n      userPrefs: {\n        theme: getTheme(request)\n      }\n    },\n    ENV: getEnv(),\n    toast,\n    confettiId,\n    honeyProps,\n    csrfToken\n  }, {\n    headers: combineHeaders({\n      'Server-Timing': timings.toString()\n    }, toastHeaders, confettiHeaders, csrfCookieHeader ? {\n      'set-cookie': csrfCookieHeader\n    } : null)\n  });\n};\nexport const headers = ({\n  loaderHeaders\n}) => {\n  const headers = {\n    'Server-Timing': loaderHeaders.get('Server-Timing') ?? ''\n  };\n  return headers;\n};\nexport const meta = ({\n  data\n}) => {\n  return [{\n    title: data ? 'GeekConsole' : 'Error | GeekConsole'\n  }, {\n    name: 'description',\n    content: `Your favourite geek storage`\n  }];\n};\nexport function ErrorBoundary() {\n  _s3();\n  // the nonce doesn't rely on the loader so we can access that\n  const nonce = useNonce();\n\n  // NOTE: you cannot use useLoaderData in an ErrorBoundary because the loader\n  // likely failed to run so we have to do the best we can.\n  // We could probably do better than this (it's possible the loader did run).\n  // This would require a change in Remix.\n\n  // Just make sure your root route never errors out and you'll always be able\n  // to give the user a better UX.\n\n  return <Document nonce={nonce}>\n\t\t\t<GeneralErrorBoundary />\n\t\t</Document>;\n}\n_s3(ErrorBoundary, \"fTu1PJvfUhwKAAPh1vkoJap6Hoo=\", false, function () {\n  return [useNonce];\n});\n_c5 = ErrorBoundary;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"%default%\");\n$RefreshReg$(_c2, \"AppWithProviders\");\n$RefreshReg$(_c3, \"App\");\n$RefreshReg$(_c4, \"Document\");\n$RefreshReg$(_c5, \"ErrorBoundary\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
